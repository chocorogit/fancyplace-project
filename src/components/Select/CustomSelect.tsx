import React, { useState, ReactElement } from 'react';
import * as S from '../../styledComponent/styledSelect/StSelect';

interface Option {
  value: string;
  element: ReactElement;
}

const CustomSelect: React.FC = () => {
  const [isOpen, setIsOpen] = useState(false);
  const [selectedOption, setSelectedOption] = useState<Option>({
    value: 'KRW',
    element: (
      <svg
        id="krw-init"
        xmlns="http://www.w3.org/2000/svg"
        width="32"
        height="32"
        viewBox="0 0 32 32"
        fill="none"
      >
        <path
          d="M16 29C23.1797 29 29 23.1797 29 16C29 8.8203 23.1797 3 16 3C8.8203 3 3 8.8203 3 16C3 23.1797 8.8203 29 16 29Z"
          stroke="#585858"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
        />
        <path
          d="M10.2295 11.4124C10.1897 11.2677 10.2986 11.1248 10.4487 11.1248C10.5512 11.1248 10.641 11.1933 10.668 11.2922L13.1704 20.4449C13.1737 20.457 13.1847 20.4653 13.1972 20.4653C13.2093 20.4653 13.2201 20.4574 13.2236 20.4457L15.6168 12.6207C15.6674 12.4551 15.8203 12.3419 15.9935 12.3419C16.1666 12.3419 16.3195 12.4551 16.3701 12.6207L18.7613 20.4392C18.766 20.4547 18.7803 20.4653 18.7966 20.4653C18.8132 20.4653 18.8278 20.4542 18.8322 20.4381L21.3177 11.2973C21.3454 11.1955 21.4379 11.1248 21.5435 11.1248C21.6979 11.1248 21.81 11.2718 21.769 11.4207L19.1651 20.8944C19.1198 21.059 18.9701 21.1732 18.7993 21.1732C18.6329 21.1732 18.486 21.0647 18.4369 20.9057L16.0273 13.0974C16.0237 13.0856 16.0128 13.0775 16.0004 13.0775C15.988 13.0775 15.9771 13.0856 15.9734 13.0974L13.5639 20.9057C13.5148 21.0647 13.3678 21.1732 13.2014 21.1732C13.0307 21.1732 12.8809 21.059 12.8357 20.8944L10.2295 11.4124Z"
          fill="#585858"
          stroke="#585858"
          strokeWidth="1.6"
          strokeLinejoin="round"
        />
      </svg>
    ),
  });

  const options: Option[] = [
    {
      value: 'KRW',
      element: (
        <svg
          id="krw"
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
        >
          <path
            d="M16 29C23.1797 29 29 23.1797 29 16C29 8.8203 23.1797 3 16 3C8.8203 3 3 8.8203 3 16C3 23.1797 8.8203 29 16 29Z"
            stroke="#585858"
            strokeWidth="2"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M10.229 11.4124C10.1892 11.2677 10.2982 11.1248 10.4483 11.1248C10.5508 11.1248 10.6406 11.1933 10.6676 11.2922L13.17 20.4449C13.1733 20.457 13.1842 20.4653 13.1967 20.4653C13.2089 20.4653 13.2197 20.4574 13.2232 20.4457L15.6163 12.6207C15.667 12.4551 15.8198 12.3419 15.993 12.3419C16.1662 12.3419 16.3191 12.4551 16.3697 12.6207L18.7608 20.4392C18.7656 20.4547 18.7799 20.4653 18.7961 20.4653C18.8128 20.4653 18.8274 20.4542 18.8317 20.4381L21.3173 11.2973C21.345 11.1955 21.4375 11.1248 21.543 11.1248C21.6975 11.1248 21.8096 11.2718 21.7686 11.4207L19.1647 20.8944C19.1194 21.059 18.9697 21.1732 18.7989 21.1732C18.6325 21.1732 18.4855 21.0647 18.4365 20.9057L16.0269 13.0974C16.0233 13.0856 16.0123 13.0775 16 13.0775C15.9876 13.0775 15.9767 13.0856 15.973 13.0974L13.5635 20.9057C13.5144 21.0647 13.3674 21.1732 13.201 21.1732C13.0302 21.1732 12.8805 21.059 12.8353 20.8944L10.229 11.4124Z"
            fill="#585858"
            stroke="#585858"
            strokeWidth="1.6"
            strokeLinejoin="round"
          />
        </svg>
      ),
    },
    {
      value: 'EUR',
      element: (
        <svg
          id="eur"
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
        >
          <path
            d="M20.12 12.8398V12.1198C20.12 11.2923 19.7913 10.4987 19.2062 9.91358C18.6211 9.32847 17.8275 8.99976 17 8.99976C16.1725 8.99976 15.3789 9.32847 14.7938 9.91358C14.2087 10.4987 13.88 11.2923 13.88 12.1198V18.1198L12 20.9998H20.12M11 15.2398H16.76"
            stroke="#585858"
            strokeWidth="2"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M16 29C23.1797 29 29 23.1797 29 16C29 8.8203 23.1797 3 16 3C8.8203 3 3 8.8203 3 16C3 23.1797 8.8203 29 16 29Z"
            stroke="#585858"
            strokeWidth="2"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </svg>
      ),
    },
    {
      value: 'USD',
      element: (
        <svg
          id="usd"
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
        >
          <path
            d="M16 29C23.1797 29 29 23.1797 29 16C29 8.8203 23.1797 3 16 3C8.8203 3 3 8.8203 3 16C3 23.1797 8.8203 29 16 29Z"
            stroke="#585858"
            strokeWidth="2"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <path
            d="M19.1507 12.5807C19.011 12.5807 18.8962 12.4727 18.8751 12.3346C18.8135 11.931 18.6757 11.5664 18.4617 11.2409C18.2049 10.8505 17.8546 10.5456 17.4107 10.3263C16.9721 10.1071 16.4693 9.99741 15.9024 9.99741C15.3301 9.99741 14.814 10.1071 14.354 10.3263C13.8994 10.5456 13.5437 10.8478 13.287 11.2329C13.0302 11.6127 12.9019 12.0405 12.9019 12.5166C12.8965 13.0995 13.0971 13.5863 13.5036 13.9767C13.9154 14.3671 14.5171 14.6827 15.3087 14.9234L16.6084 15.3245C17.5925 15.624 18.336 16.0118 18.8387 16.4878C19.3415 16.9585 19.5929 17.5655 19.5929 18.309C19.5929 18.9187 19.4351 19.4643 19.1195 19.9456C18.804 20.427 18.36 20.8041 17.7877 21.0768C17.2155 21.3496 16.5549 21.486 15.8061 21.486C15.0948 21.486 14.4636 21.3603 13.9128 21.1089C13.3672 20.8576 12.9367 20.5099 12.6211 20.066C12.3618 19.6905 12.1978 19.2683 12.1291 18.7994C12.1068 18.6475 12.2295 18.5176 12.383 18.5176C12.5219 18.5176 12.6358 18.6249 12.6586 18.7619C12.7229 19.1496 12.8682 19.4987 13.0944 19.8092C13.3672 20.1783 13.7363 20.4644 14.2016 20.6677C14.6669 20.8709 15.2017 20.9725 15.8061 20.9725C16.4479 20.9725 17.0149 20.8602 17.5069 20.6356C17.999 20.411 18.3814 20.0981 18.6542 19.6969C18.927 19.2904 19.0634 18.8278 19.0634 18.309C19.0634 17.7046 18.8548 17.2099 18.4376 16.8248C18.0258 16.4343 17.3679 16.1001 16.464 15.8219L15.1322 15.4208C14.2123 15.132 13.5223 14.7496 13.0623 14.2735C12.6024 13.7975 12.3724 13.2172 12.3724 12.5326C12.3724 11.9603 12.5248 11.4442 12.8297 10.9842C13.1399 10.5189 13.5624 10.1552 14.0973 9.89312C14.6375 9.63104 15.2392 9.5 15.9024 9.5C16.571 9.5 17.1646 9.63104 17.6834 9.89312C18.2076 10.1552 18.6221 10.5216 18.927 10.9922C19.183 11.383 19.3428 11.819 19.4065 12.3003C19.4265 12.452 19.3038 12.5807 19.1507 12.5807Z"
            fill="#585858"
            stroke="#585858"
            strokeWidth="1.6"
            strokeLinejoin="round"
          />
        </svg>
      ),
    },
  ];

  const toggleMenu = () => {
    setIsOpen(!isOpen);
  };

  const handleOptionClick = (option: Option) => {
    setSelectedOption(option);
    setIsOpen(false);
  };

  return (
    <S.CustomSelect className={`${isOpen ? 'open' : ''}`}>
      <S.SelectHeader onClick={toggleMenu}>
        <div>
          {selectedOption?.element}
          <svg
            id="down-arrow"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
          >
            <path
              d="M6.00018 9.00008C6.23383 8.99962 6.46027 9.081 6.64018 9.23008L12.0002 13.7101L17.3702 9.39008C17.4725 9.30701 17.5902 9.24498 17.7165 9.20755C17.8428 9.17012 17.9753 9.15803 18.1064 9.17196C18.2374 9.1859 18.3644 9.2256 18.48 9.28877C18.5956 9.35195 18.6977 9.43735 18.7802 9.54008C18.8632 9.64237 18.9253 9.76006 18.9627 9.8864C19.0001 10.0127 19.0122 10.1452 18.9983 10.2763C18.9844 10.4073 18.9447 10.5343 18.8815 10.6499C18.8183 10.7655 18.7329 10.8676 18.6302 10.9501L12.6302 15.7801C12.4512 15.9272 12.2268 16.0076 11.9952 16.0076C11.7636 16.0076 11.5391 15.9272 11.3602 15.7801L5.36018 10.7801C5.25892 10.6961 5.17522 10.593 5.11387 10.4767C5.05252 10.3603 5.01472 10.233 5.00264 10.1021C4.99057 9.97107 5.00445 9.839 5.04349 9.7134C5.08254 9.58779 5.14598 9.47113 5.23018 9.37008C5.32323 9.25537 5.44054 9.16269 5.57368 9.09872C5.70682 9.03474 5.85247 9.00106 6.00018 9.00008Z"
              fill="#585858"
            />
          </svg>
        </div>
        <S.MobileName>환율</S.MobileName>
      </S.SelectHeader>
      {isOpen && (
        <S.StOptions>
          {options.map((option, index) => (
            <S.StOption key={index} onClick={() => handleOptionClick(option)}>
              {option.element}
              <span>{option.value}</span>
            </S.StOption>
          ))}
        </S.StOptions>
      )}
    </S.CustomSelect>
  );
};

export default CustomSelect;
